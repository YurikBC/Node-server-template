!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t){e.exports='<div>\n    <h3>Page 3</h3>\n    <div data-item="button">new button</div>\n</div>'},function(e,t){e.exports='<div>\n    <h3>Page 2</h3>\n    <input data-item="form" type="text">\n    <div data-item="formValue" ></div>\n</div>'},function(e,t){e.exports='<div>\n    <h3>Page 1</h3>\n    <div data-item="button">button</div>\n    <div data-item="buttonPost">button post</div>\n</div>'},function(e,t,n){"use strict";n.r(t);let r={};const o=new class{emit(e,t){(r[e]||[]).forEach(e=>{e.call(null,t)})}on(e,t){r[e]||(r[e]=[]),r[e].push(t)}off(e){delete r[e]}};let a={};function i(e){let t=e;return"string"==typeof e&&(t=a[e]),t}var d={start(e){const t=Symbol();let n="function"==typeof e.init?e.init():{};return o.on(t,function([t,r]){n=e[t](n,r)||n}),a[e.name]=t,t},send(e,t){o.emit(i(e),t)},end(e){o.off(i(e))}},c=n(2),l=n.n(c),u=n(1),s=n.n(u),m=n(0),f=n.n(m);const p={};var v={name:"firstPageActor",init(){return p.button=document.querySelector('[data-item="button"]'),p.buttonPost=document.querySelector('[data-item="buttonPost"]'),p.indicator=document.querySelector('[data-item="indicator"]'),p.button.addEventListener("click",()=>{this.count()}),p.buttonPost.addEventListener("click",()=>{this.post()}),p},count(e){let t=new XMLHttpRequest;t.open("GET","/api/get_user",!1),t.onreadystatechange=function(){console.log(t.response),console.log("dfvdfv")},t.send()},post(){let e=new XMLHttpRequest;e.open("POST","/api/set_user",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send("email=ipsum&password=binny"),e.onreadystatechange=(()=>{console.log(e.status)})}};let g={};var h={name:"secondPageActor",init(){g.form=document.querySelector('[data-item="form"]'),g.formValue=document.querySelector('[data-item="formValue"]'),g.form.addEventListener("input",()=>{d.send(this.name,["validateForm"])})},validateForm(){g.formValue.innerText=g.form.value}};var b={name:"thirdPageActor",init(){let e=document.querySelector('[data-item="button"]');return e.addEventListener("click",()=>{d.send("thirdPageActor",["triggerAlert",event])}),{button:e}},triggerAlert(e,t){console.log(e,t)}};var y=[{name:"Main",address:"1",template:l.a,controller:v},{name:"SecondPage",address:"2",template:s.a,controller:h},{name:"thirdPage",address:"3",template:f.a,controller:b}];const P=Symbol("onHashChange");let w,A={};var E={routerActor:{name:"routerActor",init(){return window.addEventListener("hashchange",this[P]),w=y[0],this[P](),{}},go(e,t){window.location.hash=t.address},[P](){let e=(e=>e.filter(e=>window.location.hash.replace("#","")===e.address))(y),t=e.length?e[0]:y[0];d.send("renderActor",["paint",t]),A[t.controller.name]=new L,A[t.controller.name].create(t.controller.name),t.name!==w.name&&A[w.name]&&A[w.name].remove(w.name),w=t}},renderActor:{name:"renderActor",init:()=>({mainEl:document.getElementById("a-app")}),paint(e,t){e.mainEl&&(e.mainEl.innerHTML=t.template)}},firstPageActor:v,secondPageActor:h,thirdPageActor:b};function x(){}x.prototype={constructor:x,create(e){if(E[e]){let t=E[e];return d.start(t)}},remove(e){let t=E[e].name;return d.end(t)}};var L=x;let S;document.addEventListener("DOMContentLoaded",()=>{(S=new L).create("renderActor"),S.create("routerActor"),function(){let e=[...document.getElementById("nav").children];for(let t in e)e[t].addEventListener("click",e=>{d.send("routerActor",["go",y[+e.target.innerText-1]])})}()}),window.onbeforeunload=(()=>{S.remove("renderActor"),S.remove("routerActor")})}]);